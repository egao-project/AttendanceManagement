import java.sql.Connection;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.Calendar;

import util.DBConnect;
import action.Time_get;
import action.form.AM_form;

public class Aaaaaaaa {

	public static void main(String[] args) {
		// TODO 自動生成されたメソッド・スタブ

		// 社員番号をAM_formより取得
		String empNum = "E010";

		// 現在時間の取得とフォームへセット
		Calendar now = Calendar.getInstance();
		int nowYear = now.get(Calendar.YEAR); // 現在 年
		int nowMonth = now.get(Calendar.MONTH); // 現在 月
		int nowDay = now.get(Calendar.DATE); // 現在 日
		int nowHour = now.get(Calendar.HOUR_OF_DAY); // 現在 時
		int nowMinute = now.get(Calendar.MINUTE); // 現在 分

		// 現在時間を指定の書式にする 例)25:59
		String nowTime = String.valueOf(nowHour) + ":" + String.valueOf(nowMinute);

		// 繰り上げ用の時間
		int startHour_i = nowHour; // 繰上げ 時
		String startMinute = null; // 繰上げ 分

		// 15分単位の時間に変更
		if (nowMinute == 0) {
			startMinute = "00";
		} else if (nowMinute <= 15) {
			startMinute = "15";
		} else if (nowMinute <= 30) {
			startMinute = "30";
		} else if (nowMinute <= 45) {
			startMinute = "45";
		} else {
			startMinute = "00";
			startHour_i = nowHour + 1;
		}

		// 15分単位の時間を指定の書式にする 例)25:59
		String startTime = String.valueOf(startHour_i) + ":" + startMinute;

		// 出勤時間のSQL文
		String sql = "INSERT INTO attendance_management.work_info (emp_no , work_year , work_month , work_day , work_start , real_start) "
				+ "VALUES (" + empNum + "," + nowYear + "," + nowMonth + "," + nowDay + "," + startTime + nowTime +")";

		System.out.println(sql);

	}

}
